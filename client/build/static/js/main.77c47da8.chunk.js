(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{35:function(e,t,n){e.exports=n(64)},40:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),o=(n(40),n(10)),s=n(14),u=Object(a.createContext)(),i=Object(a.createContext)(),p=function(e){var t=e.title,n=e.icon,c=Object(a.useContext)(u),l=c.user,s=c.logout,p=c.isAuthencated,m=c.clearErrors,E=Object(a.useContext)(i).clearGuests,d=r.a.createElement(a.Fragment,null,r.a.createElement("li",null,"Hello, ",l&&l.name),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){s(),E(),m()}},r.a.createElement("span",{className:"sm-hide"},"Logout")," ",r.a.createElement("i",{className:"fas fa-sign-out-alt"})))),f=r.a.createElement(a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register")),r.a.createElement("span",{className:"sm-hide"},"|"),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login")));return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement("i",{className:n})," ",t," "),r.a.createElement("p",null,"By Digbijaya")),r.a.createElement("ul",null,p?d:f))};p.defaultProps={title:"Spectator App",icon:"fas fa-glass-cheers"};var m=p,E=n(4),d=n(11);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var g=function(){var e=Object(a.useContext)(i),t=e.addGuest,n=e.editGuest,c=e.clearEdit,l=e.update_Guest;Object(a.useEffect)(function(){p(null!==n?n:{name:"",phone:"",diet:"Non-Veg"})},[n,e]);var o=Object(a.useState)({name:"",phone:"",diet:"Non-Veg"}),s=Object(d.a)(o,2),u=s[0],p=s[1],m=u.name,g=u.phone,b=u.diet,h=function(e){p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u,Object(E.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"invite-section"},r.a.createElement("h1",null,null!==n?"Edit Guest":"Invite Someone"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null===n?t(u):(l(u),c()),p({name:"",phone:"",diet:"Non-Veg"})}},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:m,onChange:h,required:!0}),r.a.createElement("input",{type:"text",placeholder:"Phone",name:"phone",value:g,onChange:h,required:!0}),r.a.createElement("p",{className:"options-label"},"Dietary"),r.a.createElement("div",{className:"options"},r.a.createElement("label",{class:"container"},"Non-Veg",r.a.createElement("input",{type:"radio",name:"diet",value:"Non-Veg",onChange:h,checked:"Non-Veg"===b}),r.a.createElement("span",{class:"checkmark"})),r.a.createElement("label",{class:"container"},"Vegan",r.a.createElement("input",{type:"radio",name:"diet",value:"Vegan",onChange:h,checked:"Vegan"===b}),r.a.createElement("span",{class:"checkmark"})),r.a.createElement("label",{class:"container"},"Pescatarian",r.a.createElement("input",{type:"radio",name:"diet",value:"Pescatarian",onChange:h,checked:"Pescatarian"===b}),r.a.createElement("span",{class:"checkmark"}))),r.a.createElement("input",{type:"submit",value:null!==n?"Update Guest":"Add Guest",className:"btn"}),null!==n?r.a.createElement("input",{onClick:c,type:"button",className:"btn clear",value:"Cancel"}):null))},b=function(){var e=Object(a.useContext)(i).toggleGuestFilter;return r.a.createElement("div",{className:"toggle"},r.a.createElement("label",{class:"switch"},r.a.createElement("input",{type:"checkbox",onChange:function(){return e()}}),r.a.createElement("span",{class:"slider round"})),r.a.createElement("p",{className:"lead"},"Show attending only!"))},h=function(){var e=Object(a.useContext)(i),t=e.search_Guest,n=e.clearSearchGuest,c=Object(a.useRef)("");return r.a.createElement("div",null,r.a.createElement("input",{ref:c,onChange:function(e){""!==c.current.value?t(e.target.value):n()},type:"text",placeholder:"Search Guest by name...",className:"search"}),r.a.createElement("i",{className:"fas fa-search search-icon"}))},O=function(){var e=Object(a.useContext)(i).guests,t=e.filter(function(e){return e.isconfirmed}),n=function(n){return{total:e.filter(function(e){return e.diet===n}).length,confirmed:t.filter(function(e){return e.diet===n}).length}};return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Guest"),r.a.createElement("th",null,"Invited"),r.a.createElement("th",null,"Attending")),r.a.createElement("tr",null,r.a.createElement("th",null,"Non-veg"),r.a.createElement("td",null,n("Non-Veg").total),r.a.createElement("td",null,n("Non-Veg").confirmed)),r.a.createElement("tr",null,r.a.createElement("th",null,"Vegan"),r.a.createElement("td",null,n("Vegan").total),r.a.createElement("td",null,n("Vegan").confirmed)),r.a.createElement("tr",null,r.a.createElement("th",null,"Pescetarians"),r.a.createElement("td",null,n("Pescatarian").total),r.a.createElement("td",null,n("Pescatarian").confirmed)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",null,e.length),r.a.createElement("td",null,t.length)))))},y=n(67),v=n(66);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var S=function(e){var t=e.guest,n=Object(a.useContext)(i),c=n.removeGuest,l=n.edit_Guest,o=n.clearEdit,s=n.update_Guest,u=t._id,p=t.name,m=t.phone,d=t.diet,f=t.isconfirmed;return r.a.createElement("div",{class:"guest-card"},r.a.createElement("div",{class:"card-head"},r.a.createElement("div",null,r.a.createElement("label",{className:"".concat(f&&"confirm")},"Confirmed",r.a.createElement("i",{className:"fas fa-check-square ".concat(f&&"confirm")},r.a.createElement("input",{type:"checkbox",onChange:function(){s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{isconfirmed:!f}))}})," "))),r.a.createElement("div",null,r.a.createElement("button",{title:"Edit Guest"},r.a.createElement("i",{class:"fas fa-user-edit",onClick:function(){return l(t)}})),r.a.createElement("button",{onClick:function(){c(u),o()},title:"Remove Guest"},r.a.createElement("i",{class:"fas fa-trash-alt remove"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("h2",null,p),r.a.createElement("span",{class:"badge "+("Vegan"===d?"green":"Non-Veg"===d?"red":"seaGreen")},d),r.a.createElement("div",{class:"contact"},r.a.createElement("i",{class:"fas fa-phone-alt"}),r.a.createElement("p",null,m))))},w=function(){var e=Object(a.useContext)(i),t=Object(a.useContext)(u).loading,n=e.guests,c=e.guestFilter,l=e.searchGuest,o=e.getGuests;return Object(a.useEffect)(function(){o()},[]),null===n||0===n.length?r.a.createElement("h3",{className:"no-guest"},t?"Loading guests...":"Please add a guest"):r.a.createElement("div",null,r.a.createElement(y.a,{className:"guests"},null!==l?l.map(function(e){return r.a.createElement(v.a,{key:e._id,timeout:300,classNames:"item"},r.a.createElement(S,{guest:e}))}):n.filter(function(e){return!c||e.isconfirmed}).map(function(e){return r.a.createElement(v.a,{key:e._id,timeout:300,classNames:"item"},r.a.createElement(S,{guest:e}))})))},G=function(){var e=Object(a.useContext)(u).loadUser;return Object(a.useEffect)(function(){e()},[]),r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"filter"},r.a.createElement(b,null),r.a.createElement(h,null)),r.a.createElement(g,null),r.a.createElement(O,null)),r.a.createElement(w,null))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var C=function(e){var t=Object(a.useContext)(u),n=t.register,c=t.isAuthencated,l=t.error,s=t.clearErrors,i=t.setError;Object(a.useEffect)(function(){c&&e.history.push("/")},[c,e.history]);var p=Object(a.useState)({name:"",email:"",password:"",password2:""}),m=Object(d.a)(p,2),f=m[0],g=m[1],b=f.name,h=f.email,O=f.password,y=f.password2;return onchange=function(e){g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f,Object(E.a)({},e.target.name,e.target.value))),null!==l&&s()},onsubmit=function(e){e.preventDefault(),O!==y?i("Password does not match"):n({name:b,email:h,password:O})},r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:b,onChange:onchange}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:h,onChange:onchange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:O,onChange:onchange}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm Password",value:y,onChange:onchange,required:!0}),r.a.createElement("input",{type:"submit",value:"Sing Up",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&l.map(function(e){return r.a.createElement("button",{className:"danger",type:"button"},e.msg," ",r.a.createElement("span",{onClick:function(){return s()}},"X"))}),r.a.createElement("p",null,"Already have an accout? "," "," ",r.a.createElement(o.b,{to:"/login"},"Sign In "))))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var k=function(e){var t=Object(a.useContext)(u),n=t.login,c=t.isAuthencated,l=t.error,s=t.clearErrors;Object(a.useEffect)(function(){c?(e.history.push("/"),s()):s()},[c,e.history]);var i=Object(a.useState)({email:"",password:""}),p=Object(d.a)(i,2),m=p[0],f=p[1],g=m.email,b=m.password,h=function(e){f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},m,Object(E.a)({},e.target.name,e.target.value))),null!==l&&s()};return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n({email:g,password:b}),s()}},r.a.createElement("input",{type:"email",name:"email",placeholder:"gmail",value:g,onChange:h}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:b,onChange:h,required:!0}),r.a.createElement("input",{type:"submit",value:"Login",className:"btn"})),r.a.createElement("div",{className:"question"},null!==l&&r.a.createElement("button",{className:"danger",type:"button"},l," ",r.a.createElement("span",{onClick:function(){return s()}},"X")),r.a.createElement("p",null,"Dont' have an accout? "," "," ",r.a.createElement(o.b,{to:"/register"},"Sign Up"))))},_=n(3),x=n.n(_),N=n(12),T=n(8),D=n.n(T),A=n(32);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=function(e,t){var n=t.type,a=t.payload;switch(n){case"GET_GUESTS":return L({},e,{guests:a,error:null});case"ADD_GUEST":return L({},e,{guests:[].concat(Object(A.a)(e.guests),[a])});case"REMOVE_GUEST":return L({},e,{guests:e.guests.filter(function(e){return e._id!==a})});case"EDIT_GUEST":return L({},e,{editGuest:a});case"CLEAR_EDIT":return L({},e,{editGuest:null});case"UPDATE_GUEST":return L({},e,{guests:e.guests.map(function(e){return e._id===a._id?a:e})});case"TOGGLE_GUESTFILTER":return L({},e,{guestFilter:!e.guestFilter});case"SEARCH_GUEST":var r=new RegExp("".concat(a),"gi");return L({},e,{searchGuest:e.guests.filter(function(e){return e.name.match(r)})});case"CLEAR_SEARCH":return L({},e,{searchGuest:null});case"GUESTS_ERROR":return L({},e,{error:a});case"CLEAR_GUESTS":return L({},e,{guestFilter:!1,searchGuest:null,editGuest:null,guests:[],error:null});default:return e}},F=function(e){var t=Object(a.useReducer)(I,{guestFilter:!1,searchGuest:null,editGuest:null,guests:[],error:null}),n=Object(d.a)(t,2),c=n[0],l=n[1],o=function(){var e=Object(N.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/guests");case 3:t=e.sent,l({type:"GET_GUESTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(N.a)(x.a.mark(function e(t){var n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,D.a.post("/guests",t,n);case 4:a=e.sent,l({type:"ADD_GUEST",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(N.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.delete("/guests/".concat(t));case 3:l({type:"REMOVE_GUEST",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l({type:"GUESTS_ERROR",payload:e.t0.response.msg});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(N.a)(x.a.mark(function e(t){var n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,D.a.put("/guests/".concat(t._id),t,n);case 4:a=e.sent,l({type:"UPDATE_GUEST",payload:a.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:"GUESTS_ERROR",payload:e.t0.response});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i.Provider,{value:{guests:c.guests,guestFilter:c.guestFilter,searchGuest:c.searchGuest,editGuest:c.editGuest,error:c.error,loading:c.loading,addGuest:s,removeGuest:u,edit_Guest:function(e){l({type:"EDIT_GUEST",payload:e})},clearEdit:function(){l({type:"CLEAR_EDIT"})},update_Guest:p,toggleGuestFilter:function(){l({type:"TOGGLE_GUESTFILTER"})},search_Guest:function(e){l({type:"SEARCH_GUEST",payload:e})},clearSearchGuest:function(){l({type:"CLEAR_SEARCH"})},getGuests:o,clearGuests:function(){l({type:"CLEAR_GUESTS"})}}},e.children)};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach(function(t){Object(E.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=function(e,t){var n=t.type,a=t.payload;switch(n){case"USER_LOADED":return q({},e,{isAuthencated:!0,user:a,loading:!1,error:null});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",a.token),q({},e,{},a,{isAuthencated:!0,loading:!1,error:null});case"REGISTER_FAIL":case"LOGIN_FAIL":case"AUTH_ERROR":case"LOGOUT":return localStorage.removeItem("token"),q({},e,{token:null,isAuthencated:null,user:null,loading:!1,error:a});case"CLEAR_ERRORS":return q({},e,{error:null});default:return e}},B=function(e){e?D.a.defaults.headers.common["x-auth-token"]=e:delete D.a.defaults.headers.common["x-auth-token"]},J=function(e){var t={token:localStorage.getItem("token"),isAuthencated:null,loading:!0,user:null,error:null},n=Object(a.useReducer)(H,t),c=Object(d.a)(n,2),l=c[0],o=c[1],s=function(){var e=Object(N.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&B(localStorage.token),e.prev=1,e.next=4,D.a.get("/auth");case 4:t=e.sent,o({type:"USER_LOADED",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(N.a)(x.a.mark(function e(t){var n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Content-Type":"application/json"}},e.prev=1,e.next=4,D.a.post("/register",t,n);case 4:a=e.sent,o({type:"REGISTER_SUCCESS",payload:a.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o({type:"REGISTER_FAIL",payload:e.t0.response.data.error});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(N.a)(x.a.mark(function e(t){var n,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Content-Type":"application/json"}},e.prev=1,e.next=4,D.a.post("/auth",t,n);case 4:a=e.sent,o({type:"LOGIN_SUCCESS",payload:a.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o({type:"LOGIN_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.Provider,{value:{token:l.token,isAuthencated:l.isAuthencated,user:l.user,error:l.error,loading:l.loading,register:i,login:p,loadUser:s,logout:function(){return o({type:"LOGOUT"})},clearErrors:function(){return o({type:"CLEAR_ERRORS"})},setError:function(e){o({type:"REGISTER_FAIL",payload:[{msg:e}]})}}},e.children)},M=n(33),X=function(e){var t=e.component,n=Object(M.a)(e,["component"]),c=Object(a.useContext)(u),l=c.isAuthencated,o=c.loading;return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return l||o?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))};localStorage.token&&B(localStorage.token);var z=function(){return r.a.createElement(J,null,r.a.createElement(F,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(s.d,null,r.a.createElement(X,{exact:!0,path:"/",component:G}),r.a.createElement(s.b,{exact:!0,path:"/register",component:C}),r.a.createElement(s.b,{exact:!0,path:"/login",component:k}))))))};l.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.77c47da8.chunk.js.map